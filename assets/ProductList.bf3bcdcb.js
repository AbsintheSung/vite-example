import{o as a,c as o,a as e,w as m,F as y,r as P,n as b,t as h,_ as L,u as w,e as B,f as N,g as j,h as $,i as E,b as C,d,R as I}from"./index.bdc25c8b.js";const R={"aria-label":"Page navigation example"},A={class:"pagination justify-content-center"},V=["onClick"],D=e("span",{class:"page-link"},"\xAB",-1),F=[D],S={key:1,class:"page-item disabled"},T=e("span",{class:"page-link"},"\xAB",-1),z=[T],G=["onClick"],M=["onClick"],O=e("span",{class:"page-link"},"\xBB",-1),U=[O],q={key:3,class:"page-item disabled"},H=e("span",{class:"page-link"},"\xBB",-1),J=[H],K={__name:"Pagination",props:{pages:Object},emits:["emit-pages"],setup(_,{emit:v}){const u=_,r=function(s){v("emit-pages",s)},l=function(){let s=u.pages.current_page-1;r(s)},f=function(){let s=u.pages.current_page+1;r(s)},g=function(){return u.pages.has_pre},p=function(){return u.pages.has_next};return(s,x)=>(a(),o("nav",R,[e("ul",A,[g()?(a(),o("li",{key:0,class:"page-item change-mouse",onClick:m(l,["prevent"])},F,8,V)):(a(),o("li",S,z)),(a(!0),o(y,null,P(_.pages.total_pages,i=>(a(),o("li",{class:b(["page-item",{active:i===_.pages.current_page}]),key:i},[e("a",{class:"page-link",href:"#",onClick:m(n=>r(i),["prevent"])},h(i),9,G)],2))),128)),p()?(a(),o("li",{key:2,class:"page-item change-mouse",onClick:m(f,["prevent"])},U,8,M)):(a(),o("li",q,J))])]))}};const Q={key:0},W={key:1,class:"project"},X={class:"pic"},Y={class:"card-img"},Z=["src"],ee={class:"card-text"},te={class:"btn-content"},se=["onClick"],ne=["onClick"],ae={__name:"ProductList",setup(_){const v="https://vue3-course-api.hexschool.io/",u="absinthe-sung-api",r=w();let l=B({success:"",products:[]}),f=N();j();let g=$(!1);$(1);let p=$({});function s(i,n="all"){g.value=!0;async function k(){let t=await fetch(`${v}api/${u}/products/?page=${i}`,{method:"GET"}).then(c=>{if(!c.ok)throw new Error(c.status);return c.json()}).then(c=>(g.value=!1,c));l.success=t.success,n!="all"?(l.products=t.products.filter(function(c,oe){return c.category===n}),l.products.length<=10?p.value={category:null,current_page:1,has_next:!1,has_pre:!1,total_pages:1}:p.value=t.pagination):(l.products=t.products,p.value=t.pagination)}k()}function x(i){f.push(`/product/productInf/${i}`)}return s(1),r.getCart(),(i,n)=>{const k=E("useLoading");return a(),o(y,null,[C(k,{active:d(r).isLoading},null,8,["active"]),d(l).products.length===0?(a(),o("div",Q)):(a(),o("div",W,[e("aside",null,[e("div",{ref:"all",onClick:s},"\u5168\u90E8\u5546\u54C1",512),e("div",{ref:"strategy",onClick:n[0]||(n[0]=t=>s(1,"\u7B56\u7565"))},"\u7B56\u7565\u985E\u5546\u54C1",512),e("div",{ref:"reasoning",onClick:n[1]||(n[1]=t=>s(1,"\u63A8\u7406"))},"\u63A8\u7406\u985E\u5546\u54C1",512),e("div",{ref:"cardgame",onClick:n[2]||(n[2]=t=>s(1,"\u5361\u724C"))},"\u5361\u724C\u985E\u5546\u54C1",512),e("div",{ref:"camp",onClick:n[3]||(n[3]=t=>s(1,"\u9663\u71DF"))},"\u9663\u71DF\u985E\u5546\u54C1",512)]),e("main",null,[e("div",X,[(a(!0),o(y,null,P(d(l).products,t=>(a(),o("div",{class:"picitem shadow",key:t.id},[e("div",Y,[e("img",{src:t.imageUrl},null,8,Z)]),e("div",ee,[e("p",null,h(t.title),1),e("p",null,h(t.category),1),e("p",null,"NT$"+h(t.price),1),e("div",te,[e("button",{class:"btn-text",onClick:c=>x(t.id)},"\u5546\u54C1\u5167\u5BB9",8,se),e("button",{class:"btn-text",onClick:c=>d(r).addCart(t.id)},"\u6211\u8981\u8CFC\u8CB7",8,ne)])])]))),128))])])])),C(K,{pages:d(p),onEmitPages:s},null,8,["pages"]),C(d(I))],64)}}},ce=L(ae,[["__scopeId","data-v-6542da12"]]);export{ce as default};
